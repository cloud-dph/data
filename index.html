<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=370, initial-scale=1.0">
    <title>Movie Shower</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; background-color: #121212; color: white; }
        .container { width: 370px; margin: 0 auto; }
        .poster { width: 370px; height: 211px; margin-top: 40px; }
        .logo { width: 182px; height: 70px; margin-top: 265px; }
        .fav-icon { font-size: 24px; cursor: pointer; position: absolute; right: 20px; top: 50px; }
        .btn { display: block; width: 346px; margin: 395px auto 0; padding: 10px; background: #ff4500; border: none; color: white; cursor: pointer; }
        .genre { margin-top: 365px; font-size: 14px; color: #bbb; }
        .desc { margin-top: 5px; font-size: 12px; color: #aaa; padding: 0 10px; }
        .nav { margin-top: 20px; }
        .nav a { color: white; text-decoration: none; margin: 0 15px; }
    </style>
</head>
<body>
    <div class="container">
        <img id="poster" class="poster" src="" alt="Movie Poster">
        <img id="logo" class="logo" src="" alt="Movie Logo">
        <div id="fav" class="fav-icon">❤️</div>
        <button id="watch" class="btn">Watch Now</button>
        <div id="genre" class="genre"></div>
        <div id="desc" class="desc"></div>
        <div class="nav">
            <a href="fav.html">Favorites</a>
            <a href="cw.html">Continue Watching</a>
        </div>
    </div>
    
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const poster = urlParams.get('poster');
        const logo = urlParams.get('logo');
        const link = urlParams.get('link');
        const genre = urlParams.get('genre');
        const desc = urlParams.get('desc');
        const title = urlParams.get('title');

        document.getElementById('poster').src = poster;
        document.getElementById('logo').src = logo;
        document.getElementById('genre').innerText = genre;
        document.getElementById('desc').innerText = desc;

        document.getElementById('watch').onclick = () => {
            window.location.href = link;
            addToContinueWatching({poster, title});
        };
        
        document.getElementById('fav').onclick = () => {
            addToFavorites({poster, title});
            alert('Added to Favorites!');
        };
        
        function addToFavorites(movie) {
            let favs = JSON.parse(localStorage.getItem('favorites')) || [];
            favs.push(movie);
            localStorage.setItem('favorites', JSON.stringify(favs));
        }

        function addToContinueWatching(movie) {
            let cw = JSON.parse(localStorage.getItem('continueWatching')) || [];
            cw.push(movie);
            localStorage.setItem('continueWatching', JSON.stringify(cw));
        }
    </script>
</body>
</html>
